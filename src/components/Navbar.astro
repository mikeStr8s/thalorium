---
import { getCollection } from "astro:content";
import { buildFileTree } from "../utils/filetree";
import Filetree from "./Filetree.astro";

const entries = await getCollection('legendarium');
const ft = buildFileTree(entries.map((entry) => entry.id));
---

<nav id="menu">
    <header class="major">
        <h2>Legendarium</h2>
    </header>

    <Filetree filetree={ft} />
</nav>

<style lang="scss">
    .major {
        h2 {
            width: fit-content;
            border-bottom: solid 3px #7c4dff;
            margin-bottom: 1em;
            padding-bottom: .5em;
        }
    }
</style>